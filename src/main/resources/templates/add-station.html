<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Common Links -->
    <th:block th:insert="~{fragments/main :: headlinks}" />

    <!-- Page Specific -->
    <title>Add Station | eRadios.in - Add your station</title>
    <link rel="canonical" href="https://www.eradios.in/add-station" />


    <!-- SEO and Social Sharing Meta Tags -->
    <meta name="description"
        content="Add your radio station to eRadios.in and reach global listeners. Submit your station easily and expand your audience today.">
    <meta name="keywords"
        content="eRadios, add radio station, submit station, online radio, radio streaming, global radio platform, reach listeners">
    <meta name="author" content="eRadios.in">
    <meta property="og:title" content="Add Your Radio Station to eRadios.in">
    <meta property="og:description"
        content="Submit your radio station to eRadios.in and connect with a global audience. Get discovered through our online radio streaming platform.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.eradios.in/add-station">
    <meta property="og:site_name" content="eRadios.in">
    <meta property="og:image" content="https://www.eradios.in/images/logo.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Add Your Radio Station to eRadios.in">
    <meta name="twitter:description"
        content="Submit your station to eRadios.in and reach a global audience. Get listed on our popular online radio directory today.">
    <meta name="twitter:image" content="https://www.eradios.in/images/logo.png">
    <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebPage",
            "name": "Add Station - eRadios.in",
            "description": "Submit your radio station to eRadios.in. Connect with global listeners by getting listed on our Indian radio streaming platform.",
            "url": "https://www.eradios.in/add-station"
        }
    </script>
</head>

<body>
    <!-- Loader Overlay -->
    <div th:replace="~{fragments/main :: pageloader}"></div>

    <!-- Navigation Bar -->
    <div th:replace="~{fragments/main :: navbar}"></div>

    <!-- Add Station Form -->
    <section class="py-3">
        <div class="container">
            <div class="feature-section mb-3">
                <h1 class="h5">Add Station</h1>
                <p class="small text-light">
                    Want to grow your radio station's reach? Use the form below to submit your station to eRadios.in,
                    India's dedicated online radio directory. We welcome FM, internet, and community stations in any
                    language. By joining our platform, your station becomes accessible to thousands of listeners
                    worldwide through mobile and desktop browsers. Please ensure all required details are filled out
                    correctly. We will review the submission within 5 business days.
                </p>
            </div>
            <div class="bg-white p-3">
                <div id="formMessage" class="mb-3"></div>
                <form id="addStationForm" action="/add-station" method="POST" novalidate>
                    <!-- Name -->
                    <div class="mb-3">
                        <label for="name" class="form-label">Station Name</label>
                        <input type="text" class="form-control form-control-sm text-muted " id="name" name="name"
                            required placeholder="Enter station name">
                        <div class="invalid-feedback">
                            Please enter the station name
                        </div>
                    </div>

                    <!-- Email -->
                    <div class="mb-3">
                        <label for="email" class="form-label">Your Email</label>
                        <input type="email" class="form-control form-control-sm text-muted" id="email" name="email"
                            required placeholder="Enter your email">
                        <div class="invalid-feedback">
                            Please enter a valid email address
                        </div>
                    </div>

                    <!-- Favicon URL -->
                    <div class="mb-3">
                        <label for="favicon_url" class="form-label">Favicon URL</label>
                        <input type="url" class="form-control form-control-sm text-muted" id="favicon_url"
                            name="favicon_url" placeholder="https://example.com/favicon.png">
                        <div class="invalid-feedback">
                            Please enter a valid image URL
                        </div>
                    </div>

                    <!-- Station Stream URL -->
                    <div class="mb-3">
                        <label for="url" class="form-label">Stream URL</label>
                        <input type="url" class="form-control form-control-sm text-muted" id="url" name="url" required
                            placeholder="https://example.com/stream.mp3">
                        <div class="invalid-feedback">
                            Please enter a valid streaming URL
                        </div>
                    </div>

                    <!-- Tags -->
                    <div class="mb-3">
                        <label for="tags" class="form-label">Tags</label>
                        <input type="text" class="form-control form-control-sm text-muted" id="tags" name="tags"
                            placeholder="Enter comma separated tags">
                    </div>

                    <div class="mb-3">
                        <label for="comment" class="form-label">Comment</label>
                        <textarea class="form-control form-control-sm text-muted" id="comment" name="comment"
                            placeholder="Want to add anything more..." rows="5"></textarea>
                    </div>

                    <div class="mb-3">
                        <input type="checkbox" name="terms" id="terms"
                            class="form-check-input text-danger border border-2 border-danger me-1">
                        <label for="terms" class="form-label small">I agree to <a href="/terms#submission-terms"
                                target="_blank" class="link-danger">submission terms</a></label>
                    </div>

                    <!-- Submit Button -->
                    <div class="d-grid">
                        <button type="submit" class="btn btn-warning btn-md btn-submit">Submit</button>
                    </div>

                </form>
            </div>
        </div>
    </section>

    <section>
        <div class="container">
            <p class="small">
                Want to explore how your station will appear? <a href="/stations" class="text-secondary">View existing stations</a>.
            </p>
        </div>
    </section>

    <!-- Footer -->
    <div th:replace="~{fragments/main :: footer}"></div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Form Validation Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            'use strict';
            const form = document.getElementById('addStationForm');
            form.addEventListener('submit', function (event) {
                event.preventDefault();
                event.stopPropagation();

                if (!form.checkValidity()) {
                    form.classList.add('was-validated');
                    return;
                }

                // Gather form data
                const data = {
                    name: form.name.value.trim(),
                    email: form.email.value.trim(),
                    favicon_url: form.favicon_url.value.trim(),
                    url: form.url.value.trim(),
                    tags: form.tags.value.trim(),
                    comment: form.comment.value.trim()
                };

                const formMessage = document.getElementById('formMessage');
                const submitBtn = form.querySelector('button[type="submit"], .submitBtn');
                const originalBtnContent = submitBtn.innerHTML;

                // Show loader on button and disable it
                submitBtn.innerHTML = `<span class="spinner-border spinner-border-sm me-2" role="status" aria-hidden="true"></span>Sending...`;
                submitBtn.disabled = true;
                formMessage.textContent = '';
                formMessage.className = 'mb-3';

                fetch('/add-station', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify(data)
                })
                    .then(response => {
                        if (response.ok) {
                            formMessage.textContent = 'Your station has been submitted successfully!';
                            formMessage.className = 'mb-3 alert alert-success';
                            form.reset();
                            form.classList.remove('was-validated');
                        } else {
                            formMessage.textContent = 'Error submitting the form. Please try again later.';
                            formMessage.className = 'mb-3 alert alert-danger';
                        }
                    })
                    .catch(() => {
                        formMessage.textContent = 'Network error. Please try again later.';
                        formMessage.className = 'mb-3 alert alert-danger';
                    })
                    .finally(() => {
                        submitBtn.innerHTML = originalBtnContent;
                        submitBtn.disabled = false;
                    });
            }, false);
        })();
    </script>
    <!-- Custom JS -->
    <script th:src="@{/js/scripts.js}"></script>
</body>

</html>